---
title: Error Messages
permalink: errors.html
sidebar: beast_sidebar
tags: [trouble-shooting, help]
keywords: errors, error messages, help
last_updated: August 8, 2017
summary: "Error messages generated by BEAST and its associated utilities."
toc: true
folder: beast
redirect_from: "/Error-Messages"
---

## BEAST Error Messages
<div class="panel-group" id="accordion">
	<div class="panel panel-default">
		<div class="panel-heading">
			<div class="panel-title">
				<a class="noCrossRef accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
Parsing error - the input file is not a valid XML file
				</a>
			</div>
		</div>
		<div id="collapseOne" class="panel-collapse collapse noCrossRef">
			<div class="panel-body">
				This error is most likely because the input file was not actually an XML file.	
			</div>
		</div>
	</div>
	<!-- /.panel -->
	
	<div class="panel panel-default">
		<div class="panel-heading">
			<div class="panel-title">
				<a class="noCrossRef accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">
Parsing error - poorly formed XML (possibly not an XML file):: The markup in the document following the root element must be well-formed.
				</a>
			</div>
		</div>
		<div id="collapseTwo" class="panel-collapse collapse noCrossRef">
			<div class="panel-body">
The input file was recognized as an XML document but the document broke some fundemental rules for XML (it was not "well-formed").
			</div>
		</div>
	</div>
	<!-- /.panel -->
	
	<div class="panel panel-default">
		<div class="panel-heading">
			<div class="panel-title">
				<a class="noCrossRef accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseThree">
Parsing error - poorly formed BEAST file
				</a>
			</div>
		</div>
		<div id="collapseThree" class="panel-collapse collapse noCrossRef">
			<div class="panel-body">
The input file was recognized as an XML file but the content was not as expected by BEAST. The exact element in the file will be listed along with details of the problem. For example:
<pre>
Parsing error - poorly formed BEAST file:
  The '&lt;alignment&gt;' element with id, 'alignment1', is incorrectly constructed.
  The following was expected:
  One of
    ATTRIBUTE String dataType REQUIRED
    ELEMENT of type dataType REQUIRED
</pre>
In this case, although the input file was a valid XML document, there was an error in the syntax that BEAST requires. For example, above, an element of type &lt;alignment&gt; does not conform to the requirement that it either has an attribute called 'dataType' or contains an element called '&lt;dataType&gt;'.
			</div>
		</div>
	</div>
	<!-- /.panel -->
	
	<div class="panel panel-default">
		<div class="panel-heading">
			<div class="panel-title">
				<a class="noCrossRef accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseFour">
Initial Likelihood is Zero.
				</a>
			</div>
		</div>
		<div id="collapseFour" class="panel-collapse collapse noCrossRef">
			<div class="panel-body">
Look at the answer to this FAQ question for possible reasons for this error and solutions.
			</div>
		</div>
	</div>
	<!-- /.panel -->
	
	<div class="panel panel-default">
		<div class="panel-heading">
			<div class="panel-title">
				<a class="noCrossRef accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseFive">
java.lang.OutofMemoryError Java heap space.
				</a>
			</div>
		</div>
		<div id="collapseFive" class="panel-collapse collapse noCrossRef">
			<div class="panel-body">
For slightly older versions of BEAST (which do not yet enforce the use of the BEAGLE library), a possible solution is exactly to use the BEAGLE library.
Not using BEAGLE results in BEAST using the java implementation of the likelihood calculator which means all your data will be loaded into the Java heap, which then leads to this error.
Additionally, the use of BEAGLE will also increase the performance of BEAST, i.e. make it run faster.
			</div>
		</div>
	</div>
	<!-- /.panel -->
	
    <div class="panel panel-default">
    		<div class="panel-heading">
    			<div class="panel-title">
    				<a class="noCrossRef accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseEleven">
BEAST window exits and disappears without an error message.
    				</a>
    			</div>
    		</div>
    		<div id="collapseEleven" class="panel-collapse collapse noCrossRef">
    			<div class="panel-body">
There will be an error message displayed in the BEAST GUI window, but that window closes to quickly to observe what the error message was.
Your BEAST download folder will typically contain a lib folder, with a beast.jar file in it.
We suggest to run your BEAST XML using this .jar file as follows from a terminal:
<pre>
java -jar beast.jar dataset.xml
</pre>
The error message shown in the terminal will further help determine the actual problem in running your BEAST XML file.
       			</div>
    		</div>
    	</div>
    	<!-- /.panel -->
	
</div>
<!-- /.panel-group -->

## BEAGLE Error Messages

<div class="panel-group" id="beagle-accordion">
    <div class="panel panel-default">
		<div class="panel-heading">
			<div class="panel-title">
				<a class="noCrossRef accordion-toggle" data-toggle="collapse" data-parent="#beagle-accordion" href="#collapseSix">
Failed to load BEAGLE library: no hmsbeagle-jni in java.library.path
				</a>
			</div>
		</div>
		<div id="collapseSix" class="panel-collapse collapse noCrossRef">
			<div class="panel-body">
This (linux-based) error occurs because BEAST is unable to locate the BEAGLE library.	
When following the <a href="https://github.com/beagle-dev/beagle-lib/wiki/LinuxInstallInstructions">installation instructions</a> and specifically the part on how to <b>set the environment variables</b>, BEAST should be able to locate BEAGLE without any additional instructions.
Should setting the environment variables no take care of this issue, you can manually provide the location of BEAGLE when running BEAST as follows:
<pre>
java -Djava.library.path=/usr/local/lib -jar beast.jar test.xml
</pre>
in the case that you installed BEAGLE in /usr/local/lib.
When following the <a href="https://github.com/beagle-dev/beagle-lib/wiki/LinuxInstallInstructions">installation instructions</a>, BEAGLE will be installed in the /lib folder within your HOME directory.
If you're unsure where you've installed BEAGLE, you can locate the BEAGLE library as follows:
<pre>
locate libhmsbeagle-jni.so
</pre>
On Windows, it may be necessary to restart your computer after installing BEAGLE, in order for the system's environment variables to be set up correctly.
If that doesn't work, you can try copying the BEAGLE DLL files from C:\Program Files\Common Files:
<pre>
hmsbeagle64.dll
hmsbeagle-cpu64.dll
hmsbeagle-opencl64.dll
</pre>
to the same directory that holds you BEAST executable, e.g. BEASTv{{ site.beast_version }}.exe.
			</div>
		</div>
	</div>
	<!-- /.panel -->
	
	<div class="panel panel-default">
    		<div class="panel-heading">
    			<div class="panel-title">
    				<a class="noCrossRef accordion-toggle" data-toggle="collapse" data-parent="#beagle-accordion" href="#collapseSeven">
OpenCL error: Unknown error from file &lt;GPUInterfaceOpenCL.cpp&gt;, line 111.
    				</a>
    			</div>
    		</div>
    		<div id="collapseSeven" class="panel-collapse collapse noCrossRef">
    			<div class="panel-body">
If you're not determined to use OpenCL and this error hence only prevents you from running BEAST with BEAGLE, you can uninstall the OpenCL package ocl-icd-opencl-dev:
<pre>
sudo apt-get remove ocl-icd-libopencl1
</pre>
Reinstalling the BEAGLE library according to the <a href="https://github.com/beagle-dev/beagle-lib/wiki/LinuxInstallInstructions">installation instructions</a> will complete fixing the problem.
Note that uninstalling the OpenCL package will prevent other software that relies on OpenCL from running properly.
    			</div>
    		</div>
    	</div>
    	<!-- /.panel -->
    	
    	<div class="panel panel-default">
            		<div class="panel-heading">
            			<div class="panel-title">
            				<a class="noCrossRef accordion-toggle" data-toggle="collapse" data-parent="#beagle-accordion" href="#collapseEight">
'make check' in beagle-lib fails
            				</a>
            			</div>
            		</div>
            		<div id="collapseEight" class="panel-collapse collapse noCrossRef">
            			<div class="panel-body">
After installing the BEAGLE library according to the <a href="https://github.com/beagle-dev/beagle-lib/wiki/LinuxInstallInstructions">installation instructions</a>, the suggested 'make check' command may indicate that the installation was not successfull:
<pre>
FAIL: genomictest.sh
============================================================================
Testsuite summary for libhmsbeagle 2.1.2
============================================================================
# TOTAL: 1
# PASS:  0
# SKIP:  0
# XFAIL: 0
# FAIL:  1
# XPASS: 0
# ERROR: 0
============================================================================
See examples/genomictest/test-suite.log
Please report to beagle-dev@googlegroups.com
============================================================================
</pre><br>
One possible solution is to uninstall the OpenCL package on your (linux-based) system:
<pre>
sudo apt-get remove ocl-icd-libopencl1
</pre>
Reinstalling the BEAGLE library according to the <a href="https://github.com/beagle-dev/beagle-lib/wiki/LinuxInstallInstructions">installation instructions</a> can complete fixing the problem.
Note that uninstalling the OpenCL package will prevent other software that relies on OpenCL from running properly.
            			</div>
            		</div>
            	</div>
            	<!-- /.panel -->
            	
    <div class="panel panel-default">
            		<div class="panel-heading">
            			<div class="panel-title">
            				<a class="noCrossRef accordion-toggle" data-toggle="collapse" data-parent="#beagle-accordion" href="#collapseNine">
BEAST/BEAGLE detect my graphics card but will not use it
            				</a>
            			</div>
            		</div>
            		<div id="collapseNine" class="panel-collapse collapse noCrossRef">
            			<div class="panel-body">
This can be fixed by being more explicit when specifying the command-line options for BEAGLE.
For example, if your graphics card is detected by BEAGLE and assigned resource number 1, you can specify the following:
<pre>
-beagle_gpu -beagle_double -beagle_order 1
</pre>
If your data has multiple partitions and you want to distribute the likelihood evaluations for those partitions across multiple graphics cards (with assigned resource numbers 1 and 2):
<pre>
-beagle_gpu -beagle_double -beagle_order 1,2
</pre>
We have a separate webpage on <a href="http://beast.community/performance">how to increase computational performance</a>.
            			</div>
            		</div>
            	</div>
            	<!-- /.panel -->
            	
    <div class="panel panel-default">
                		<div class="panel-heading">
                			<div class="panel-title">
                				<a class="noCrossRef accordion-toggle" data-toggle="collapse" data-parent="#beagle-accordion" href="#collapseTen">
A fatal error has been detected by the Java Runtime Environment
                				</a>
                			</div>
                		</div>
                		<div id="collapseTen" class="panel-collapse collapse noCrossRef">
                			<div class="panel-body">
This error has to do with your Java installation, specifically whether or not you have a potential mismatch between a 32-bit operating system and a 64-bit Java installation.
This can easily be checked by trying the following in a terminal:
<pre>
java -version
</pre>
When a full 64-bit Java has been installed, you should see on screen something similar to this:
<pre>
java version "1.8.0_121"
Java(TM) SE Runtime Environment (build 1.8.0_121-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)
</pre>
To check whether you're running a 32-bit or a 64-bit operating system, in linux or in OSX:
<pre>
uname -a
</pre>
The output might look like this:
<pre>
Linux 2.6.32-642.6.2.el6.x86_64 #1 SMP Mon Oct 24 10:22:33 EDT 2016 x86_64 x86_64 x86_64 GNU/Linux
</pre>
Specifically, the <b>x86_64</b> indicates a 64-bit environment.
In Windows, you can right-click on <i>My Computer</i> and it should show whether you're running a 32-bit or a 64-bit Windows version.
When both your operating system and Java environment are 64-bit, this problem should not appear.
Ideally, you should have 64-bit versions installed of both operating system and Java environment.
                			</div>
                		</div>
                	</div>
    <!-- /.panel -->
    
    <div class="panel panel-default">
                    		<div class="panel-heading">
                    			<div class="panel-title">
                    				<a class="noCrossRef accordion-toggle" data-toggle="collapse" data-parent="#beagle-accordion" href="#collapseTwelve">
CUDA error: "No binary for GPU" from file &lt;GPUInterfaceCUDA.cpp&gt;, line 257.
                    				</a>
                    			</div>
                    		</div>
                    		<div id="collapseTwelve" class="panel-collapse collapse noCrossRef">
                    			<div class="panel-body">
This error message indicates a problem with the CUDA installation on your system.
When running the ./configure script as part of the <a href="https://github.com/beagle-dev/beagle-lib">BEAGLE installation instructions</a>, pay attention to possible error messages at the end.
For example, you may get the following message:
<pre>
configure: WARNING: NVIDIA CUDA nvcc compiler not found or CUDA support disabled.  
CUDA implementation will not be built. 
If CUDA support is desired, check the path to CUDA and specify --with-cuda=/path/to/cuda
</pre>
If so, you may need to give it the path to the CUDA SDK installation (or perhaps you haven’t installed the CUDA SDK - i.e., not just the drivers).
                    			</div>
                    		</div>
                    	</div>
        <!-- /.panel -->
        
        <div class="panel panel-default">
                        		<div class="panel-heading">
                        			<div class="panel-title">
                        				<a class="noCrossRef accordion-toggle" data-toggle="collapse" data-parent="#beagle-accordion" href="#collapseThirteen">
        BEAGLE resources: (but no hardware devices are listed)
                        				</a>
                        			</div>
                        		</div>
                        		<div id="collapseThirteen" class="panel-collapse collapse noCrossRef">
                        			<div class="panel-body">
When the BEAST output indicates that BEAGLE has been found (the BEAGLE version is printed after the BEAST development acknowledgements) but your analysis still throws a BEAGLE-related error, it may be the case that no hardware resources have been found by BEAGLE.
This can easily be checked by running BEAST and selecting the option "Show list of available BEAGLE resources and Quit".
If BEAGLE then only prints the following without any additional output, no suitable resources have been found and hence the analysis cannot be run:
<pre>
BEAGLE resources:
</pre>
This can be solved by properly setting the following environment variables:
<pre>
LD_LIBRARY_PATH
PKG_CONFIG_PATH
</pre>
How to set these variables depends on the operating system; more information can be found in the <a href="https://github.com/beagle-dev/beagle-lib">BEAGLE installation instructions</a>.
                                </div>
                     		</div>
                     	</div>
         <!-- /.panel -->
        
</div>

{% include links.html %}

